## core

### scripts@core/base.js:

```js
import config from '../scripts@config/config.js';
import {Airplane, Sky, Sea} from '../scripts@core/customObject.js';
var HEIGHT = 0, WIDTH = 0, 
    mousePos = { };
//SCENE & CAMERA VARIABLES
var scene = null,
    camera = null,
    renderer = null;

// 3D Models in customObjects.js
var sea = null, // createdBy new Sea()
    airplane = null, // createdBy new AirPlane()
    sky = null; // createdBy new Sky()
window.onload = ↓
function createScene() {}
function createLights() {}
function createObjects() { createPlane() && createSea() && createSky() }
function renderLoop() {updatePlane() && updateCameraFov() && normalize() && updateSea-Sky && renderer && loop}// invoked by 
```

### scripts@core/customObjects.js

```js
import colors from '../scripts@config/colors.js';

const numOfCloudsInSky = 20,
      rotationSpeedOfPropeller = .3;

Airplane.propellerSpin = function (speed = rotationSpeedOfPropeller) {}
Airplane.defaultPropellerSpeed // setter && getter

export {Airplane, Sky, Sea}
```

## config

### scripts@config/config.js

```js
export default {
    testMode: TestMode,
    version: Version,
    cameraSetting: PerspectiveCameraSetting,
    getContainer: GetContainer,
    speed_sea: RotationSpeed_Sea,
    speed_sky: RotationSpeed_Sky
}
```

### scripts@config/colors.js

```js
export default {
  red: 0xf25346,
  white: 0xd8d0d1,
  brown: 0x59332e,
  pink: 0xF5986E,
  brownDark: 0x23190f,
  blue: 0x68c3c0,
}

```

## scripts@miscellaneous

### serviceWorker.js

其作用为缓存各个脚本文件、页面文件等，以加快页面加载、减少带宽占用，及实现离线访问。

当一个serviceWorker被注册成功后，它会一直存在（不会随着的页面的关闭而死亡，只会被暂停），其注册成功之后会缓存任何当前网页请求的任何内容，以便离线浏览。（未来我们将利用此特性部署windows应用和app）

通过设置其noCache = true可将其缓存功能关闭（方便调试时的实时更新）。默认为关闭状态。

cacheResources数组是serviceWorker第一次注册时主动缓存的文件（即重要的、之后大概率会使用的文件）

DLC数组存储第一次注册时可选缓存的文件。当用户打开流量保护时serviceWorker不会主动缓存DLC数组中的内容。

sw_code.js是其附属。

可F12 -> Application(console element那一栏的右侧) -> Cache - Cache storage处查看被缓存的库（可删除之来手动更新到最新版本）

可F12 -> Application(console element那一栏的右侧) -> Application - service worker处删除、更新service worker。

使用<kbd>ctrl</kbd> + <kbd>F5</kbd>可强制刷新当前页面，不会经过service worker，service worker也不会缓存强制刷新后的界面。

因为安全问题，serviceWorker.js只能放于根目录（即与index.html同一目录）

### scripts@miscellaneous/invokeSW.js

serviceWorker.js的附属。用于注册serviceWorker。

### scripts@miscellaneous/webWorker.js

*在另外的与主进程无关的进程*实现音乐存储播放等操作。

音乐存储在indexedDB。可F12 -> Application(console element那一栏的右侧) -> Storage - IndexedDB处查看被存储起的音乐文件。

音乐对象结构如下：
```js
songPlayer = {
    loopMode: true,
    shuffleMode: false,
    getSongPlaying: ()=>{},
    playNext: ()=>{},
    playIntro: ()=>{},
    playTheme: ()=>{},
    playSoundEffect: soundEffectName => {},
    playDeadSound: ()=>{},
    stop_instantly: ()=>{},
    stop_fadeOut: ()=>{}
  }
```

可通过window.songPlayer.playSoundEffect('the fucking sound')等访问。

若有认为需要补充的功能请直接在上方添加。